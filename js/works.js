const worksData = {
    coll1: [ 
        {
            'isSpecialContent': true,
            'text': '<i>Liquid Land</i> is a video & sound installation informed by Indigenous ways of knowing from Ecuador and by ideas that Squamish artist, Aaron Nelson-Moody aka Splash shared with ' + 
            'me during our collaboration on the Earth Project. The work attempts to stop seeing nature and the forest through an extractive gaze, where nature is only a commodity and an object ' + 
            'that needs to be exploited for capitalist profit, and instead tries to understand the complex living ecosystem of the forest where more-than-human entities, human bodies, and spirits from the past meet. <br><br>' +
            '<i>Liquid Land</i> presents a 15:03 minutes video of a brick sculpture made from a mix of unceded territory —land from outside the school— and First Nations Land — collected with Splash. The idea behind ' + 
            'placing the sculpture back in the forest was to let the biological and natural processes like rain, snow, and wind, dissolve the ideological divisions embedded in the land narrative. ' + 
            'The video presents a slow process of decomposition that forces the viewer to experience a different sense of time, a more-than-human time.',
        },
        { file: '../images/Liquid_Land_I_1.jpg', name: 'Liquid Land', year: '2021', description: 'Video & Sound Installation', duration: '15:03 min' }, 
        { file: '../images/Liquid_Land_I_3_Michael_Love.jpg', name: 'Liquid Land', description: 'Photo credit: Michael Love' }, 
        { file: '../images/Liquid_Land_I_4_Michael_Love.jpg', name: 'Liquid Land', description: 'Photo credit: Michael Love' }, 
        { file: '../images/Liquid_Land_II_3_MFA_Grad_Show.jpg', name: 'Liquid Land, Iteration II', year: '2021', description: 'MFA grad show' }, 
        { file: '../images/Liquid_Land_II_2.jpg', name: 'Liquid Land, Iteration II', year: '2021', description: 'MFA grad show' }, 
        { file: '../images/Liquid_Land_Still__1.jpg', name: 'Still from Video' }, 
        { file: '../images/Liquid_Land_Still__3.jpg', name: 'Still from Video' }, 
        { file: '../images/Liquid_Land_Still_2.jpg', name: 'Still from Video' },
        {
            isSpecialContent: true,
            videoURL: 'https://player.vimeo.com/video/535672941?h=11e95f4cac'
        }
    ],
    coll2: [
        {
            'isSpecialContent': true,
            'text': '<i>Liquid Beings</i> is a sound and drawing installation that is informed by Indigenous ways of Knowing from Canada’s Pacific Northwest coast . ' + 
            'The series of five drawings were made with cedar pigment, a gift from Indigenous Squamish artist Aaron Nelson-Moody aka “Splash”. I stretched and ' + 
            'amplified a field recording of the Earth. While listening to these sounds, I created a series of drawings. The sound was playing from a hanging speaker and ' + 
            'filled the space where the drawings were being displayed. The idea was to listen to other frequencies and vibrancies of the Earth. The work attempts to access other ' + 
            'layers of reality and materiality, beyond a western human-centered ideology. This work was presented at the Polygon Gallery as part of Response: Our Land Narrative.',
        },
        { file: '../images/OUR_LAND_NARRATIVE_1_1.jpg', name: 'Liquid Beings', year: '2021', description: 'Red cedar pigment on paper, stretched and amplified field recording of Earth', description: 'Photo credit: Rachel Topham Photography' }, 
        { file: '../images/Liquid_Being_1.jpg', name: 'Liquid Being #1', year: '2021', description: 'Red cedar pigment on paper', dimensions: '32 x 23,5cm' }, 
        { file: '../images/Liquid_Being_2.jpg', name: 'Liquid Being #2', year: '2021', description: 'Red cedar pigment on paper', dimensions: '32 x 23,5cm' }, 
        { file: '../images/Liquid_Being_3.jpg', name: 'Liquid Being #3', year: '2021', description: 'Red cedar pigment on paper', dimensions: '32 x 23,5cm' }, 
        { file: '../images/Liquid_Being_4.jpg', name: 'Liquid Being #4', year: '2021', description: 'Red cedar pigment on paper', dimensions: '32 x 23,5cm' }, 
        { file: '../images/Liquid_Being_5.jpg', name: 'Liquid Being #5', year: '2021', description: 'Red cedar pigment on paper', dimensions: '32 x 23,5cm' }, 
        {
            isSpecialContent: true,
            audioURL: "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/996529912&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true",
            audioExtraContent: '<div id="collection-audio-extra" style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;">' + 
            '<a href="https://soundcloud.com/esteban-perez-670580920" title="Esteban Pérez" target="_blank" style="color: #cccccc; text-decoration: none;">Esteban Pérez</a> · <a href="https://soundcloud.com/esteban-perez-670580920/liquid-being-4" title="Liquid Being #4" target="_blank"' + 
            'style="color: #cccccc; text-decoration: none;">Liquid Being #4</a></div>'
        }
    ],
    coll3: [
        {
            'isSpecialContent': true,
            'text': '<i>Bifurcación Sonora</i> is inspired by Tlön, Uqbar, Orbis Tertius (1962), a short story by Argentinian author Jorge Luis Borges. The work uses the ideologies embedded in Earth’s materiality in order to question the narratives that build and shape our ' + 
            'reality. For instance, the bricks for this construction were made of a mix of Unceded Territory, First Nations Land, and water. The room was filled with the amplified sound of the Earth, recorded from the forest where the First Nations Earth was collected.',
        },
        { file: '../images/Bifurcacion_Sonora_1.jpg', name: 'Bifurcación Sonora', year: '2020', description: 'Installation/Sound'},  
        { file: '../images/Bifurcacion_Sonora_2.jpg'}, 
        { file: '../images/Bifurcacion_Sonora_3.jpg' },
        {
            isSpecialContent: true,
            audioURL: "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/902458684&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true",
            audioExtraContent: '<div id="collection-audio-extra" style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;">' + 
            '<a href="https://soundcloud.com/esteban-perez-670580920" title="Esteban Pérez" target="_blank" style="color: #cccccc; text-decoration: none;">Esteban Pérez</a> · <a href="https://soundcloud.com/esteban-perez-670580920/audio-tierra-amplificacion-3" title="Audio Tierra Amplificacion 3"' + 
            'target="_blank" style="color: #cccccc; text-decoration: none;">Audio Tierra Amplificacion 3</a></div>'
        },
        { file: '../images/El_Instante_Still.jpg', name: 'El Instante', year: '2020', description: 'Stop Motion Animation'}, 
        { file: '../images/El_Instante_Still_2.jpg', name: 'El Instante', year: '2020', description: 'Stop Motion Animation', duration: '1:19 min'},
        {
            isSpecialContent: true,
            videoURL: 'https://player.vimeo.com/video/461577609?h=78a0a5a889'
        },
    ],
    coll4: [
        {
            'isSpecialContent': true,
            'text': 'The piece began with a simple gesture. To dig a hole in the earth, put the earth in a box and send it to Ecuador, my motherland. ' + 
            'The project originated from feelings of anger and frustration when entering a new country, in this case Canada, and the requirement for yet another ' + 
            'visa. Coming from a developing country and therefore acutely aware of the complex meaning of borders, I recognized that I needed to ask for permission ' + 
            'from the first habitants of these lands, the Musqueam, Squamish, and Tsleil-Waututh Nations. That feeling of frustration shifted toward a sense of deference and respect.' +
            '<br><br>As someone new to Canada and learning about ethical protocols for making art, I discovered that in order to realize the <i>Earth Project</i> (2019 - 2021), I needed to ask ' + 
            'permission of the First Nations peoples. A significant and challenging task, I connected with Aaron Nelson-Moody, a.k.a. “Splash,” who agreed to work with me.  In this important step ' + 
            'in the artistic process, I found immense gratification coupled with a strange reconnection and regrounding not only with the Earth but also to Andean Phenomenology, which gives Earth, water, minerals, land, soil, and air due respect as ' + 
            'part of an integrated totality that must be taken care of by the human species (Gómez-Barris 2017,48).<br><br>' +
            'Working with Squamish protocols, “Splash” sang a song connecting us to the Earth and his ancestors. After the protocol, we proceeded with the collection of earth. We then carried the box ' + 
            'full of earth through the forest and out into the city. I recognize the Earth as an element with agency in my work.  This idea informed not only the collaboration Splash in the forest ' + 
            'but also a related performative, sound-based sculpture called the Earth Synthesizer piece, where I sought to simply listen to the Earth.<br><br>' +
            'The <i>Earth Project</i> began with a curiosity towards borders and human movement that morphed into an engagement with a local indigenous artist and the land ' + 
            'beneath our feet. Spending time in the forest with a Squamish artist allowed me to better understand the anthropocentric worldview that I inherited from my own ' + 
            'colonized upbringing. I learned through my own migration to Canada how indigenous values inform a deep sense of relationality and connection with the land that sustains us.'
        },
        { file: '../images/Eart_Project_1.jpg', name: 'Earth Project', year: '2019' }, 
        { file: '../images/Earth_Project_3.jpg' }, 
        { file: '../images/Earth_Project_Video_Still_3.jpg', name: 'Digging a Hole in the Earth', year: '2019', description: 'Video', duration: '3:46 min' }, 
        { file: '../images/Earth_Project_2.jpg' }, 
        { file: '../images/Earth_Synthetizer_2_grunt.jpg', name: 'Artist Talk at grunt gallery', year: '2020', description: 'Talk & discussion on different ideas about earth and land' }, 
        { file: '../images/Earth_Synthetizer_2.jpg', name: 'Earth Synthesizer', year: '2019', description: 'Sound Object/Installation' }, 
        { file: '../images/Earth_Synthetizer_3_UBC.jpg', name: 'Earth Synthesizer', year: '2021', description: 'Part of the <i> Radical Reworlding </i> Exhibition at AHVA Gallery at UBC' },
        {
            isSpecialContent: true,
            videoURL: 'https://player.vimeo.com/video/384156722?h=a86e17dcd3'
        }
    ],
    coll5: [ 
        {
            'isSpecialContent': true,
            'text': '<i>The Memory of Water</i> proposes to combine an exploration of field sound recording technology with indigenous ecological ways of knowing, ' + 
            'in order to open a conversation between humans and the more-than-human. The larger project seeks to activate sound in understanding the relevance of ' + 
            'mountains, rivers, oceans, rocks, and animal spirits, alongside which the human is just another actant into an interlinked complex world (Kohn, 2013). ' + 
            'The recording of these soundscapes attempts to challenge the nature/culture binary by listening to more-than-human and human networks of sounds.<br><br>' + 
            'The work attempts to understand how water represents the world and experiences time.' +
            'Underwater frequencies were recorded with the help of a hydrophone, which helps to represent the entangled ' + 
            'relationship between human and nonhuman activity. The sound component challenges the normative western gaze that imposes an illusion of a nature-culture binary. ' + 
            'The duration of the large video and audio piece creates a mesmerizing atmosphere for an embodied immersive experience.',
        },
        { file: '../images/Memoy_Water_1.jpg', name: 'The Memory of Water', year: '2020', description: 'Video & sound installation', duration: '7:43 min' }, 
        { file: '../images/Memoy_Water_2.jpg', name: '' }, 
        { file: '../images/Memoy_Water_3.jpg', name: '' },
        {
            isSpecialContent: true,
            videoURL: 'https://player.vimeo.com/video/485661393?h=5bbdf91d8f"'
        }
    ],   
    coll6: [
        {
            'isSpecialContent': true,
            'text': '<i>Homage to Failure</i> is a performance documented through photography, which later took the form of a video. I walked and collected ' + 
            'objects from the street and put them inside a cardboard box. I collected various objects like an old piece of metal, cans, a tree trunk, a broken ' + 
            'trolley, etc. Eventually, during the performance, the carboard box broke. I just kept dragging the objects with a rope event though the rope broke ' + 
            'several times. Finally, I manage to transport all the found objects into the gallery space. ' +
            'This is where the second part begins. I assembled the objects in a precarious and provisional ' + 
            'way in the gallery. There was no previous idea just improvisation and the motivation to finish a task.' + 
            'I used duct-taped to combine the objects together and I screw the wooden elements together. ' + 
            'I used a yellow rope to hang the sculpture from three different points on the walls which added a layer of ' + 
            'tension to the work. The video of the performance was projected onto the broken box, which was stapled to the wall. ' +
            'Because of the precariousness of the structure, the piece appeared as it might collapse at any moment.',
        },
        { file: '../images/Homage_Failure_3.jpg', name: 'Homage to Failure', year: '2020', description: 'Performance' }, 
        { file: '../images/Homage_Failure_1.jpg', name: '' }, 
        { file: '../images/Homage_Failure_2.jpg', name: 'Homage to Failure', year: '2020', description: 'Sculpture/Installation' },  
        { file: '../images/Homage_Failure_6.jpg', name: '' }, 
        { file: '../images/Homage_Failure_7.jpg', name: '' }, 
        { file: '../images/Homage_Failure_5.jpg', name: '' },
        {
            isSpecialContent: true,
            videoURL: 'https://player.vimeo.com/video/396621009?h=cbc9a2b02b'
        }
    ],      
    coll7: [
        {
            file: '../images/Snapshots.jpg',
            name: 'Snapshots',
            year: '2019',
            description: 'Oil on paper',
            dimensions: '140 x 135 cm'
            
        }, 
        {
             file: '../images/guap.jpg',
            name: `08/09/2018 22:01:33 <br>
            0° 12' 1,98" S, 78° 28' 32,69" W <br>
            2661,05m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/hos.jpg',
            name: `26/10/2018 13:50:36 <br> 
            0° 10' 21,09" S, 78° 29' 21,33" W <br>
            2797,74m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/pared.jpg',
            name: `23/11/2018 11:02:42 <br>
            2° 53' 50,90" S, 79° 0' 16,62" W <br>
            2555,05m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/sunset.jpg',
            name: `24/11/2018 18:24:04 <br>
            2° 53' 42,51" S, 79° 0' 39,03" W <br>
            2144,74m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/aereo.jpg',
            name: `26/11/2018 11:02:51 <br>   
            2° 53' 23,40" S, 78° 59' 15,20" W <br>
            2532,42m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/elec.jpg',
            name: `07/12/2018 9:56:45 <br>
            0° 11' 46,43" S, 78° 25' 55,14" W <br>
            2372,75m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
             file: '../images/Norte.jpg',
            name: `05/02/2019 10:33:05 <br>
            0° 6' 57,68" S, 78° 28' 42,37" W <br>
            2829,21m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
        {
            file: '../images/vereda.jpg',
            name:`08/02/2019 7:34:56 <br>
            0° 12' 23,81" S, 78° 25' 29,90" W <br>
            2347,32m`,
            year: '2019',
            description: 'Oil on paper',
            dimensions: '21 x 28 cm '
        },
    ],
    coll8: [
        {
            file: '../images/obra_1.jpg',
            name: 'Moving Foward',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '30 x 40 cm'
        },
        {
            file: '../images/obra_2.jpg',
            name: 'Neohabitat',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '29 x 21 cm'
        },
        {
            file: '../images/obra_3.jpg',
            name: 'Tropa en Movimiento',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '19 x 17,5 cm'
        }
    ],
    coll9: [
        {
            file: '../images/T7.jpg',
            name: 'Omi',
            year: '2018',
            description: 'Acrylic on canvas',
            dimensions: '240 x 190 cm'
        }, 
        {
            file: '../images/T6-2.jpg',
            name: 'Ahogado en la realidad',
            year: '2018',
            description: 'Acrylic on canvas',
            dimensions: '240 x 190 cm'
        },
        {
            file: '../images/T5.jpg',
            name: 'Release',
            year: '2017',
            description: 'Acrylic on canvas',
            dimensions: '100 x 54 cm'
        },
        {
            file: '../images/T1.jpg',
            name: 'Heiße Ohren',
            year: '2017',
            description: 'Acrylic on canvas',
            dimensions: '89 x 135 cm'
        },
        {
            file: '../images/T4.jpg',
            name: 'Buoyancy',
            year: '2017',
            description: 'Acrylic on canvas',
            dimensions: '100 x 94 cm'
        },
        {
            file: '../images/T3.jpg',
            name: 'Burnout',
            year: '2017',
            description: 'Acrylic on canvas',
            dimensions: '89 x 135 cm'
        },
        {
            file: '../images/T8.jpg',
            name: 'Voxel',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '140 x 180 cm'
        },
        {
            file: '../images/T9.jpg',
            name: 'Entanglement',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '140 x 180 cm'
        },
        {
            file: '../images/T10.jpg',
            name: 'Simulation',
            year: '2019',
            description: 'Acrylic on canvas',
            dimensions: '140 x 180 cm'
        } 
    ],
    coll10: [
        {
            file: '../images/R1.jpg',
            name: 'Animal Laborans',
            year: '2018',
            description: 'Acrylic & oil pastel on paper',
            dimensions: '53 x 38 cm'
        }, 
        {
            file: '../images/R3.jpg',
            name: 'Parallel Profile',
            year: '2018',
            description: 'Acrylic & oil pastel on paper',
            dimensions: '50 x 70 cm'
        },
        {
            file: '../images/R4.jpg',
            name: 'Self-controlled',
            year: '2018',
            description: 'Acrylic on paper',
            dimensions: '50 x 70 cm'
        },
         {
            file: '../images/R5.jpg',
            name: 'Exhaustion',
            year: '2018',
            description: 'Acrylic on paper',
            dimensions: '50 x 70 cm'
        },
         {
            file: '../images/R6.jpg',
            name: 'Hiperpassive',
            year: '2018',
            description: 'Acrylic & ink on paper',
            dimensions: '52 x 75 cm'
        },
         {
            file: '../images/R7.jpg',
            name: 'Nude pic',
            year: '2019',
            description: 'Acrylic & oil pastel on paper',
            dimensions: '25 x 35 cm'
        },
         {
            file: '../images/R8.jpg',
            name: 'Expecting',
            year: '2019',
            description: 'Acrylic on paper',
            dimensions: '50 x 70 cm'
        },
         {
            file: '../images/R9.jpg',
            name: 'Pseudo-vice',
            year: '2019',
            description: 'Acrylic on paper',
            dimensions: '50 x 70 cm'
        },
        {
            file: '../images/Triplete-13.jpg',
            name: 'Triplete',
            year: '2018',
            description: '',
            gallery: 'No lugar',
        },
    ],
    coll11: [
        {
            file: '../images/Triplete-2.jpg',
            name: 'Found Objects',
            year: '2018',
            description: '',
            gallery: 'No lugar'
        }, 
        {
            file: '../images/X5_1.jpg',
            name: 'Reliquary',
            year: '2017',
            description: 'Assemblage',
            dimensions: '40 x 61 x 23 cm'
        },
        {
            file: '../images/X5_8.jpg',
            name: 'Reliquary',
            year: '2017',
            description: 'Assemblage',
            dimensions: '40 x 61 x 23 cm'
        },
         {
            file: '../images/X5_5.jpg',
            name: 'Reliquary',
            year: '2017',
            description: 'Assemblage',
            dimensions: '40 x 61 x 23 cm'
        },
         {
            file: '../images/Triplete-12.jpg',
            name: 'Democracy is my imaginary friend',
            year: '2018',
            description: 'Mixed media on wood',
            dimensions: '120 x 173 cm'
        },
         {
            file: '../images/Triplete-14.jpg',
            name: 'Found Objects',
            year: '2018',
            gallery: 'No lugar',
            description: '',
  
        },
         {
            file: '../images/Triplete-15.jpg',
           name: 'Found Objects',
           year: '2018',
           description: '',
           gallery: 'No lugar'
        },
        {
            file: '../images/Triplete-16.jpg',
            name: 'El Chebas',
            year: '2017',
            description: 'Mixed media on wood',
            dimensions: '114 x 89 cm'
        },
        {
            file: '../images/Triplete-17.jpg',
            name: 'Untitled',
            year: '2017',
            description: 'Mixed media on wood',
            dimensions: '119 x 93 cm'
        },
         {
            file: '../images/Triplete-20.jpg',
           name: 'Found Objects',
           year: '2018',
           gallery: 'No lugar',
           description: ''
        },
         {
            file: '../images/Triplete-21.jpg',
            name: 'El Cara Delavigne',
            year: '2017',
            description: 'Mixed media on pallets',
            dimensions: '60 x 135 x 47 cm'
        },
        {
            file: '../images/Triplete-23.jpg',
            name: 'Alptraum',
            year: '2017',
            description: 'Mixed media on wood',
            dimensions: '60 x 54 cm'
        },
        {
            file: '../images/Triplete-24.jpg',
            name: 'Der Erfinder',
            year: '2017',
            description: 'Mixed media on wood',
            dimensions: '60 x 60 cm'
        },
        {
            file: '../images/Triplete-25.jpg',
            name: 'Ausländer',
            year: '2018',
            description: 'Mixed media on wood',
            dimensions: '63 x 80 cm'
        },
        {
            file: '../images/Triplete-29.jpg',
            name: 'Found Objects',
            year: '2018',
            gallery: 'No lugar',
            description: '',
        },
        {
            file: '../images/Triplete-28.jpg',
            name: 'Tercermundista',
            year: '2017',
            description: 'Assemblage',
            dimensions: '142 x 90 x 9 cm'
        },
        {
            file: '../images/X10.jpg',
            name: "Guess who's back?",
            year: '2018',
            description: 'Mixed media on wood',
            dimensions: '89 x 173 x 14 cm'
        },
    ],
    coll12: [
        {
           file: '../images/P-7.jpg',
            name: 'Time, space & matter',
            year: '2016',
            description: 'Acrylic on canvas',
            dimensions: '90 x 100 cm'
        }, 
        {
           file: '../images/P-10.jpg',
            name: 'Let go',
            year: '2016',
            description: 'Acrylic on canvas',
            dimensions: '100 x 130 cm'
        },
        {
            file: '../images/P-12.jpg',
            name: 'La deidad',
            year: '2016',
            description: 'Acrylic on canvas',
            dimensions: '180 x 200 cm'
        }
        
    ],
};
  
let slideIndex = 0;
const urlParams = new URLSearchParams(window.location.search);
const collectionName = urlParams.get('col');
const collection = worksData[collectionName];
const collectionSize = collection.length;
const displayedImage = document.getElementById("displayed-image"); 
const displayedImageBig = document.getElementById("displayed-image-big"); 
const imageViewer = document.getElementById("image-viewer");
const imageViewerInfo  = document.getElementById("viewer-image-info");
const keyRightCode = 39;
const keyLeftCode = 37;
const keyExitCode = 27;


document.body.onkeydown = function(event){
    const eventKeyCode = event.keyCode;
    const isViewerHidden = imageViewer.classList.contains("hidden-section");
    if(eventKeyCode === keyRightCode) {
        changeImage(1);
    }
    if(eventKeyCode === keyLeftCode) {
        changeImage(-1);
    }
    if(eventKeyCode === keyExitCode && !isViewerHidden) {
        toggleImageViewer();
    }
}

onInit();

function onInit() {
  slideIndex = 0;
  setImageData(slideIndex);
}

function changeImage(value) {
  
  slideIndex = slideIndex + value; 
  if(slideIndex < 0) {
    slideIndex = collectionSize - 1;
  }

  if (slideIndex === collectionSize) {
    slideIndex = 0;
  }
  setImageData(slideIndex);
}

function handleCollectionDescription(data) {
    const text = `<p>${data.text}</p>`
    $("#displayed-image").addClass('hidden-element');
    $('#collection-video-iframe').attr('src', null);
    $(".collection-video-iframe-container").addClass('hidden-element');
    $(".works-information").addClass('invisible-element');
    $("#collection-description").removeClass('hidden-element');
    $("#collection-description").html(text);
};

function handleVideoData(data) {
    const videoURL = data.videoURL;
    $("#displayed-image").addClass('hidden-element');
    $("#collection-description").addClass('hidden-element');
    $(".collection-video-iframe-container").removeClass('hidden-element');
    $('#collection-video-iframe').attr('height', '360');
    $('#collection-video-iframe').attr('src',videoURL);
    $("#collection-audio-extra").addClass('hidden-element');
}

function handleAudioData(data) {
    const audioURL = data.audioURL;
    const audioExtraContent = data.audioExtraContent;
    $("#displayed-image").addClass('hidden-element');
    $("#collection-description").addClass('hidden-element');
    $(".collection-video-iframe-container").removeClass('hidden-element');
    $('#collection-video-iframe').attr('src', audioURL);
    $('#collection-video-iframe').attr('height', '166');
    $('#collection-audio-extra').replaceWith(audioExtraContent);

}

function setImageData(slideIndex) {
  const imageData = collection[slideIndex];
  const isCollectionDescription = imageData.isSpecialContent && imageData.text;
  const isVideo = !!imageData.videoURL;
  const isAudio = !!imageData.audioURL;
  const isImage = !imageData.isSpecialContent;

  if(isCollectionDescription) return handleCollectionDescription(imageData);
  if(isVideo) handleVideoData(imageData);
  if(isAudio) handleAudioData(imageData)
  if (isImage) {
    $(".works-information").removeClass('invisible-element');
    $("#displayed-image").removeClass('hidden-element');
    $("#collection-description").addClass('hidden-element');
    $('#collection-video-iframe').attr('src', null);
    $(".collection-video-iframe-container").addClass('hidden-element');
    const newSrc = imageData.file + "?random="+ Math.random();  
    displayedImage.src= newSrc;
    displayedImageBig.src= newSrc;
  }


  const imageName = imageData.name || "";
  const imageGallery = imageData.gallery || "";
  const imageDimensions = imageData.dimensions || "";
  const imageDescription = imageData.description || "";
  const imageYear = imageData.year || "";
  const imageDuration = imageData.duration || "";


  $(".work-title").html(imageName);
  $(".work-year").html(imageYear);
  $(".work-description").html(imageDescription);
  $(".work-size").html(imageDimensions); 
  $(".work-gallery").html(imageGallery); 
  $(".work-duration").html(imageDuration); 
}

function toggleImageViewer () {
  imageViewer.classList.toggle("hidden-section");
  displayedImage.classList.toggle("hidden-section")
}

function toggleImageViewerImageInfo () {
  imageViewerInfo.classList.add("visible-image-info");
  setTimeout(function() {
    imageViewerInfo.classList.remove("visible-image-info");
  }, 5000)
}
